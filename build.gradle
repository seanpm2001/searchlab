plugins {
  id 'java'
  id 'maven-publish'
  id 'com.github.johnrengelman.shadow' version '5.1.0'
}

apply plugin: 'java'
apply plugin: 'eclipse'
apply plugin: 'application'

group = 'eu.searchlab'
version = '0.0.1-SNAPSHOT'
description = "Searchlab"
archivesBaseName = 'searchlab'
mainClassName = 'eu.searchlab.Searchlab'
sourceSets.main.java.srcDirs = ['src']
applicationDefaultJvmArgs = ['-Xmx800m']

java.sourceCompatibility = JavaVersion.VERSION_1_8
java.targetCompatibility = JavaVersion.VERSION_1_8

jar {
  manifest {
    attributes(
      "Implementation-Title": description,
      "Implementation-Version": version,
      "Main-Class": mainClassName)
  }
}

tasks.withType(JavaCompile) {
  options.encoding = 'UTF-8'
}

shadowJar {
  zip64 true
  exclude 'data'
}

repositories {
  mavenCentral()
}

dependencies {
  implementation 'org.apache.logging.log4j:log4j-core:2.14.1'
  implementation 'io.undertow:undertow-core:2.2.2.Final'
  implementation 'com.github.jknack:handlebars:4.2.+'
  implementation 'tech.tablesaw:tablesaw-core:0.38.+'
  implementation 'tech.tablesaw:tablesaw-json:0.38.+'
  implementation 'tech.tablesaw:tablesaw-jsplot:0.38.+'
  implementation 'org.slf4j:slf4j-log4j12:1.+'
  implementation 'io.minio:minio:8.3.+'
}
